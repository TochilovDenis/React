// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–ª–µ—Ç–∫–∏ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è

import '../styles/Cell.css'; // –°—Ç–∏–ª–∏ –¥–ª—è –∫–ª–µ—Ç–∫–∏

// –ü—Ä–æ–ø—Å—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:
// - x, y: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–ª–µ—Ç–∫–∏
// - type: —Ç–∏–ø –∫–ª–µ—Ç–∫–∏ (empty, ship, hit, miss, sunk)
// - onClick: –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞
// - showShip: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ –∫–æ—Ä–∞–±–ª—å
// - isInteractive: –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –ª–∏ –∫–ª–µ—Ç–∫–∞
// - gamePhase: —Ç–µ–∫—É—â–∞—è —Ñ–∞–∑–∞ –∏–≥—Ä—ã
const Cell = ({ x, y, type, onClick, showShip, isInteractive, gamePhase }) => {
  // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∫–ª–µ—Ç–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
  const getCellContent = () => {
    switch (type) {
      case 'hit':
        return 'üí•'; // –ò–∫–æ–Ω–∫–∞ –≤–∑—Ä—ã–≤–∞ –¥–ª—è –ø–æ–ø–∞–¥–∞–Ω–∏—è
      case 'miss':
        return '‚ö™'; // –ë–µ–ª—ã–π –∫—Ä—É–∂–æ–∫ –¥–ª—è –ø—Ä–æ–º–∞—Ö–∞
      case 'sunk':
        return 'üî•'; // –û–≥–æ–Ω—å –¥–ª—è –ø–æ—Ç–æ–ø–ª–µ–Ω–Ω–æ–≥–æ –∫–æ—Ä–∞–±–ª—è
      case 'ship':
        return showShip ? 'üö¢' : ''; // –ö–æ—Ä–∞–±–ª—å –∏–ª–∏ –ø—É—Å—Ç–æ
      default:
        return ''; // –ü—É—Å—Ç–∞—è –∫–ª–µ—Ç–∫–∞
    }
  };

  // –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ CSS –¥–ª—è –∫–ª–µ—Ç–∫–∏
  const getCellClassName = () => {
    const classes = ['cell']; // –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å
    
    // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –∫–ª–µ—Ç–∫–∏
    if (type === 'hit' || type === 'miss' || type === 'sunk') {
      classes.push(type);
    }
    
    // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, –µ—Å–ª–∏ –∫–ª–µ—Ç–∫–∞ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞
    if (isInteractive && (type === 'empty' || (type === 'ship' && gamePhase === 'placement'))) {
      classes.push('interactive');
    }
    
    return classes.join(' '); // –û–±—ä–µ–¥–∏–Ω—è–µ–º –∫–ª–∞—Å—Å—ã –≤ —Å—Ç—Ä–æ–∫—É
  };

  return (
    <div
      className={getCellClassName()} // –ö–ª–∞—Å—Å CSS
      onClick={isInteractive ? onClick : undefined} // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–ª–µ—Ç–æ–∫
      title={`–ö–ª–µ—Ç–∫–∞ ${String.fromCharCode(65 + x)}${y + 1}`} // –ü–æ–¥—Å–∫–∞–∑–∫–∞ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏
    >
      {getCellContent()} {/* –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–ª–µ—Ç–∫–∏ */}
    </div>
  );
};

export default Cell;